<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>üìä Workshop Task ‚Äì Open Science and Reproducibility with Quarto, GitHub, and R 2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./setup.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9e799c111b2bb9ef9b0a24d13d3f6855.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-7db2460f5e8273e590d0818402fc37df.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-9e799c111b2bb9ef9b0a24d13d3f6855.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- goatcounter.com analytics, does not require cookie consent -->
<script data-goatcounter="https://jukadipos.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script>

<!-- counter.dev analytics, does not require cookie consent -->
<script src="https://cdn.counter.dev/script.js" data-id="7e3e8d31-9a84-48b0-a678-a00715236a90" data-utcoffset="1"></script>

<!-- hotjar analytics, does not require cookie consent -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3578286,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<!-- tell Zotero this is a webpage via Dublin Core -->
<meta name="DC.Type" content="WebPage">


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Open Science and Reproducibility with Quarto, GitHub, and R 2025">
<meta property="og:description" content="This website provides supporting materials for the workshop ‚ÄòOpen Science and Reproducibility with Quarto, GitHub, and R‚Äô which is part of the European Doctoral School of Demography (EDSD) 2025 preparatory courses hosted by the Max Planck Institute for Demographic Researc (Rostock, Germany).">
<meta property="og:image" content="https://www.ekotov.pro/2025-EDSD-open-science-quarto-github/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta property="og:site_name" content="Open Science and Reproducibility with Quarto, GitHub, and R 2025">
<meta name="citation_title" content="Open Science and Reproducibility with Quarto, GitHub, and R 2025">
<meta name="citation_author" content="Egor Kotov">
<meta name="citation_publication_date" content="2025-10-21">
<meta name="citation_cover_date" content="2025-10-21">
<meta name="citation_year" content="2025">
<meta name="citation_fulltext_html_url" content="https://www.ekotov.pro/2025-EDSD-open-science-quarto-github/task.html">
<meta name="citation_doi" content="10.5281/zenodo.17401408">
<meta name="citation_language" content="en">
</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./task.html">üìä Workshop Task</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Open Science and Reproducibility with Quarto, GitHub, and R 2025</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/e-kotov/2025-EDSD-open-science-quarto-github" title="Github" class="quarto-navigation-tool px-1" aria-label="Github"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">üëã Workshop Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">üõ†Ô∏è Software Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./task.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">üìä Workshop Task</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Learn more</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://rstudio-conf-2022.github.io/get-started-quarto/" class="sidebar-item-text sidebar-link" target="_blank">
 <span class="menu-text">‚Ä¶learn more about Quarto in advanced Quarto workshop by Posit</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.ekotov.pro/2025-mpidr-open-science-reproducible-workflows/" class="sidebar-item-text sidebar-link" target="_blank">
 <span class="menu-text">‚Ä¶learn more about reproducible workflows in R with with package managers, containers and pipeline control tools</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="4">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#final-goal" id="toc-final-goal" class="nav-link active" data-scroll-target="#final-goal">Final goal</a></li>
  <li><a href="#step-by-step-instructions" id="toc-step-by-step-instructions" class="nav-link" data-scroll-target="#step-by-step-instructions">Step by step instructions</a>
  <ul class="collapse">
  <li><a href="#cloning-the-repository" id="toc-cloning-the-repository" class="nav-link" data-scroll-target="#cloning-the-repository">1. Cloning the repository</a>
  <ul class="collapse">
  <li><a href="#clone-using-your-github-account" id="toc-clone-using-your-github-account" class="nav-link" data-scroll-target="#clone-using-your-github-account">1.1. Clone using your GitHub account</a></li>
  <li><a href="#fallback-if-everything-else-fails-just-download-the-repository" id="toc-fallback-if-everything-else-fails-just-download-the-repository" class="nav-link" data-scroll-target="#fallback-if-everything-else-fails-just-download-the-repository">1.2. Fallback if everything else fails, just download the repository</a></li>
  </ul></li>
  <li><a href="#explore-the-data" id="toc-explore-the-data" class="nav-link" data-scroll-target="#explore-the-data">2. Explore the data</a></li>
  <li><a href="#spatial-aspect-of-the-migration-data" id="toc-spatial-aspect-of-the-migration-data" class="nav-link" data-scroll-target="#spatial-aspect-of-the-migration-data">3. Spatial aspect of the migration data</a>
  <ul class="collapse">
  <li><a href="#packages-for-spatial-data-and-flow-mapping" id="toc-packages-for-spatial-data-and-flow-mapping" class="nav-link" data-scroll-target="#packages-for-spatial-data-and-flow-mapping">3.1 Packages for spatial data and flow mapping</a></li>
  <li><a href="#how-to-prepare-the-data-for-flow-mapping" id="toc-how-to-prepare-the-data-for-flow-mapping" class="nav-link" data-scroll-target="#how-to-prepare-the-data-for-flow-mapping">3.2. How to prepare the data for flow mapping</a></li>
  <li><a href="#country-codes" id="toc-country-codes" class="nav-link" data-scroll-target="#country-codes">3.3. Country codes</a></li>
  <li><a href="#hints-on-plotting-the-flows" id="toc-hints-on-plotting-the-flows" class="nav-link" data-scroll-target="#hints-on-plotting-the-flows">3.4. Hints on plotting the flows</a></li>
  </ul></li>
  <li><a href="#create-your-final-document" id="toc-create-your-final-document" class="nav-link" data-scroll-target="#create-your-final-document">4. Create your final document</a></li>
  <li><a href="#save-changes-and-push-them-to-github" id="toc-save-changes-and-push-them-to-github" class="nav-link" data-scroll-target="#save-changes-and-push-them-to-github">5. Save changes and push them to GitHub</a>
  <ul class="collapse">
  <li><a href="#before-the-first-commit" id="toc-before-the-first-commit" class="nav-link" data-scroll-target="#before-the-first-commit">5.1. Before the first commit</a></li>
  <li><a href="#first-commit" id="toc-first-commit" class="nav-link" data-scroll-target="#first-commit">5.2. First commit</a></li>
  <li><a href="#publish-the-html-file" id="toc-publish-the-html-file" class="nav-link" data-scroll-target="#publish-the-html-file">5.3. Publish the html file</a></li>
  </ul></li>
  <li><a href="#submit" id="toc-submit" class="nav-link" data-scroll-target="#submit">6. Submit</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">üìä Workshop Task</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://www.ekotov.pro/">Egor Kotov</a> <a href="https://orcid.org/0000-0001-6690-5345" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.demogr.mpg.de/en">
            Max Planck Institute for Demographic Research
            </a>
          </p>
        <p class="affiliation">
            <a href="https://www.upf.edu/en/web/politiques/home">
            Universitat Pompeu Fabra
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
    <div>
    <div class="quarto-title-meta-heading">Doi</div>
    <div class="quarto-title-meta-contents">
      <p class="doi">
        <a href="https://doi.org/10.5281/zenodo.17401408">10.5281/zenodo.17401408</a>
      </p>
    </div>
  </div>
  </div>
  


</header>


<p>Your task is to create a reproducible summary report with key statistics and a flowmap using the <a href="https://www.scholarlymigration.org/" target="_blank">Scholarly Migration Database</a>. This is a beginner level task.</p>
<p>If you are feeling especially confident, you can use the data from the <a href="https://github.com/MaciejDanko/HMigD_Shiny_App_I">The Human Migration Database</a>, which you can download via the interactive <a href="https://maciej-jan-danko.shinyapps.io/HMigD_Shiny_App_I/">web app</a> (see last the tab for downloads). Warning: this is likely take more time than with the Scholarly Migration Database, as there are more data columns and you will spend more time reading the codebook. So only go for this task if the R programming part and Quarto are too easy for you. You can also explore <a href="https://closeread.dev/">https://closeread.dev/</a> for creating ‚Äústorytelling‚Äù style of your published document to showcase your analysis even better (see the <a href="https://closeread.dev/gallery/#special-prizes">gallery here</a>).</p>
<section id="final-goal" class="level1">
<h1>Final goal</h1>
<p>The final goal is to have a repository on GitHub with:</p>
<ul>
<li><p>a reproducible Quarto (<code>*.qmd</code>) document in the root of the repository</p></li>
<li><p>an <code>html</code> file created from the <code>*.qmd</code> file above in the <code>docs</code> folder of the repository</p></li>
<li><p>a <code>README.md</code> file in the root of the repository that briefly describes the project (e.g.&nbsp;specifies that this is an assignment done as part of EDSD linking back to EDSD website, or to this workshop materials, etc. )</p></li>
<li><p>post the link to your repository and/or website in <code>Issues</code> of this repository: <a href="https://github.com/e-kotov/2025-EDSD-open-science-quarto-github/issues" target="_blank">https://github.com/e-kotov/2025-EDSD-open-science-quarto-github/issues</a></p></li>
</ul>
<p>Requirements:</p>
<ul>
<li><p>The Quarto document can be rendered without errors into an <code>html</code> file</p></li>
<li><p>The document contains R code to load the data and perform any neccessary data transformation for visualisation. Instead of commenting the code, use plain or markdown-formatted text outside the code blocks.</p></li>
<li><p>The document contains at least two figures summarizing the flows data (e.g.&nbsp;a histogram, a scatter plot, etc.)</p></li>
<li><p>The document contains a flowmap (either static with <code>{flowmapper}</code> or interactive with <code>{flowmapblue}</code>) showing the migration flows of scholars between countries.</p></li>
<li><p>The document layout uses some of the custom figure placement options from <a href="https://quarto.org/docs/authoring/article-layout.html" target="_blank">Article Layout</a>.</p></li>
</ul>
</section>
<section id="step-by-step-instructions" class="level1">
<h1>Step by step instructions</h1>
<p>Make sure you went through the <a href="./setup.html">setup steps</a>, and therefore have all the tools and a GitHub account.</p>
<section id="cloning-the-repository" class="level2">
<h2 class="anchored" data-anchor-id="cloning-the-repository">1. Cloning the repository</h2>
<section id="clone-using-your-github-account" class="level3">
<h3 class="anchored" data-anchor-id="clone-using-your-github-account">1.1. Clone using your GitHub account</h3>
<ol type="1">
<li>Go to the repository of the <a href="https://github.com/MPIDR/Global-flows-and-rates-of-international-migration-of-scholars/" target="_blank">Scholarly Migration Database</a> and ‚ÄúFork‚Äù it into your GitHub account.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/fork-smd.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="ide">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="" aria-current="page">Positron</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">RStudio</a></li></ul>
<div class="tab-content" data-group="ide">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<ul>
<li><p>Open <code>Positron</code> and create a new folder (project).</p>
<ul>
<li>Create new Folder (Project) from the menu:</li>
</ul>
<p><img src="media/images/git-clone-positron-000a.png" class="img-fluid"></p>
<p>Alternatively, from the Command Palette (<code>CMD</code>+<code>Shift</code>+<code>P</code> on <code>macOS</code> or <code>CTRL</code>+<code>Shift</code>+<code>P</code> on <code>Windows</code>. By the way, <code>RStudio</code> also has a similar Command Palette accessible with the same shortcut):</p>
<p><img src="media/images/git-clone-positron-000b.png" class="img-fluid"></p>
<ul>
<li>Copy the link to your repository from the web and paste it in the prompt, also choose local folder where you want to save the repository:</li>
</ul>
<p><img src="media/images/git-clone-positron-001.png" class="img-fluid"></p>
<ul>
<li>You may get a warning about trusting or not trusing the contents of the folder. This time feel free to choose ‚ÄúTrust‚Äù, as it is your own repository. In other cases use your judgement.</li>
</ul>
<p><img src="media/images/git-clone-positron-002.png" class="img-fluid"></p>
<ul>
<li>If this is your first time using git and GitHub on this computer, you may get a prompt like this. You may also get it later, when you try to push (upload) any changes you make in the repository back to GitHub:</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/git-clone-positron-003.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p><em>You may not get this prompt if the repository you are downloading is public (which in this case when you have created a fork, it is). You will get this prompt when you try to push (upload) any changes you make in the repository back to GitHub.</em></p>
<p>You should choose the blue button <strong>‚ÄúSign in with your browser‚Äù</strong>.</p>
<ul>
<li>Complete the authentication in the web browser with your GitHub account:</li>
</ul>
<p><img src="media/images/git-clone-rstudio-005.png" class="img-fluid"></p></li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<ul>
<li><p>Open <code>RStudio</code> and create a new project.</p>
<ul>
<li>Choose ‚ÄúVersion Control‚Äù:</li>
</ul>
<p><img src="media/images/git-clone-rstudio-001.png" class="img-fluid"></p>
<ul>
<li>Choose ‚ÄúGit‚Äù as your version control system:</li>
</ul>
<p><img src="media/images/git-clone-rstudio-002.png" class="img-fluid"></p>
<ul>
<li>Copy the link to your repository from the web and paste it in the prompt:</li>
</ul>
<p><img src="media/images/git-clone-rstudio-003.png" class="img-fluid"></p>
<ul>
<li>If this is your first time using git and GitHub on this computer, you may get a prompt like this. You may also get it later, when you try to push (upload) any changes you make in the repository back to GitHub:</li>
</ul>
<p><img src="media/images/git-clone-rstudio-004.png" class="img-fluid"></p>
<p><em>You may not get this prompt if the repository you are downloading is public (which in this case when you have created a fork, it is). You will get this prompt when you try to push (upload) any changes you make in the repository back to GitHub.</em></p>
<p>You should choose the blue button <strong>‚ÄúSign in with your browser‚Äù</strong>.</p>
<ul>
<li>Complete the authentication in the web browser with your GitHub account:</li>
</ul>
<p><img src="media/images/git-clone-rstudio-005.png" class="img-fluid"></p></li>
</ul>
</div>
</div>
</div>
<p>You only need to do this once, as this sets up your local <code>git</code> installation to use your GitHub acccount. So when you work with another online repository, you should just be able to access it without those extra steps.</p>
</section>
<section id="fallback-if-everything-else-fails-just-download-the-repository" class="level3">
<h3 class="anchored" data-anchor-id="fallback-if-everything-else-fails-just-download-the-repository">1.2. Fallback if everything else fails, just download the repository</h3>
<p>If nothing works for you, feel free to just download the <a href="https://github.com/MPIDR/Global-flows-and-rates-of-international-migration-of-scholars/" target="_blank">Scholarly Migration Database</a> repository manually.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/download-repo.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
</section>
</section>
<section id="explore-the-data" class="level2">
<h2 class="anchored" data-anchor-id="explore-the-data">2. Explore the data</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="ide">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Positron</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">RStudio</a></li></ul>
<div class="tab-content" data-group="ide">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<ul>
<li>Create a new Quarto document in the root folder of the cloned or downloaded repository:</li>
</ul>
<p>Using the menu <code>File</code>-&gt;<code>New File...</code> or Command Pallette (<code>CMD</code>+<code>Shift</code>+<code>P</code> on <code>macOS</code> or <code>CTRL</code>+<code>Shift</code>+<code>P</code> on <code>Windows</code>) create new Quarto document:</p>
<p><img src="media/images/new-positron-quarto-doc.png" class="img-fluid"></p>
<p>You will get:</p>
<p><img src="media/images/new-positron-quarto-doc-new.png" class="img-fluid"></p>
<ul>
<li><p>Using the basic R and Quarto syntax (see <a href="https://quarto.org/docs/get-started/computations/rstudio.html" target="_blank">intro reference of basic Quarto syntax here</a>), list the packages you need to be loaded in the first chunk/block of code.</p></li>
<li><p>Add more chunks/blocks of code to load the data (you may use either <strong>openalex_2024_V1_scholarlymigration_countryflows_enriched.csv</strong> or <strong>scopus_2024_V1_scholarlymigration_countryflows_enriched.csv</strong>) and explore it. You may ignore the code visibility options for now. Just leave default options for code blocks by not addint any options at this point. Use <a href="https://dplyr.tidyverse.org/"><code>{dplyr}</code></a> for data manipulation and <a href="https://ggplot2.tidyverse.org/"><code>{ggplot2}</code></a> for data visualization.</p></li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<ul>
<li>Create a new Quarto document in the root folder of the cloned or downloaded repository:</li>
</ul>
<p>Either in the top left of <code>RStudio</code>:</p>
<p><img src="media/images/new-quarto-doc.png" class="img-fluid"></p>
<p>Or in the bottom right in the Files pane:</p>
<p><img src="media/images/new-quarto-doc-file-pane.png" class="img-fluid"></p>
<ul>
<li><p>Using the basic R and Quarto syntax (see <a href="https://quarto.org/docs/get-started/computations/rstudio.html" target="_blank">intro reference of basic Quarto syntax here</a>), list the packages you need to be loaded in the first chunk/block of code.</p></li>
<li><p>Add more chunks/blocks of code to load the data (you may use either <strong>openalex_2024_V1_scholarlymigration_countryflows_enriched.csv</strong> or <strong>scopus_2024_V1_scholarlymigration_countryflows_enriched.csv</strong>) and explore it. You may ignore the code visibility options for now. Just leave default options for code blocks by not addint any options at this point. Use <a href="https://dplyr.tidyverse.org/"><code>{dplyr}</code></a> for data manipulation and <a href="https://ggplot2.tidyverse.org/"><code>{ggplot2}</code></a> for data visualization.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="spatial-aspect-of-the-migration-data" class="level2">
<h2 class="anchored" data-anchor-id="spatial-aspect-of-the-migration-data">3. Spatial aspect of the migration data</h2>
<p>Apart from the histograms, scatterplots or other plots, it is also useful to look at your data on a map like so:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">iframe</span>(<span class="at">src =</span> <span class="st">"media/interactive/flowmap_widget.html"</span>, <span class="at">width =</span> <span class="st">"100%"</span>, <span class="at">height =</span> <span class="st">"600px"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<iframe src="media/interactive/flowmap_widget.html" width="100%" height="600px"></iframe>
</div>
</div>
<p>The data in the Scholarly Migration Database does not contain coordinates, but has country names and their <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes" target="_blank">ISO codes</a>. So you can combine this data with some other datasource that coordinates or boundaries for countries and their ISO codes.</p>
<section id="packages-for-spatial-data-and-flow-mapping" class="level3">
<h3 class="anchored" data-anchor-id="packages-for-spatial-data-and-flow-mapping">3.1 Packages for spatial data and flow mapping</h3>
<p>Here is a list of packages that you need to map the migration data:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>packages <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sf"</span>, <span class="co"># for working with spatial data</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"spData"</span>, <span class="co"># to easily get world boundaires</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"countrycode"</span>, <span class="co"># to convert between iso2 and iso3 country codes</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"flowmapblue"</span>, <span class="co"># for interactive flow mapping</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"flowmapper"</span> <span class="co"># for static flow mapping using ggplot2</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(packages)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You only need to install the packages once, do not keep the code to install the packages in your Quarto document, at least not as it is presented above. This code does NOT check if the packages are already installed. So if you keep this code in your Quarto document, the listed packages will be downloaded every time you render the document into <code>html</code>, <code>pdf</code>, or any other format. To learn more about package management in R, see the tutorials in <a href="https://www.ekotov.pro/2025-mpidr-open-science-reproducible-workflows/" target="_blank">Projects‚Äô workflow for reproducibility and replicability using R</a>.</p>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(spData)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flowmapblue)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flowmapper)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="how-to-prepare-the-data-for-flow-mapping" class="level3">
<h3 class="anchored" data-anchor-id="how-to-prepare-the-data-for-flow-mapping">3.2. How to prepare the data for flow mapping</h3>
<p>For mapping the flows you will need the coorindates of the countries.</p>
<p>An easy way to create these coordinates is by getting the data on country boundaries from the <a href="https://jakubnowosad.com/spData/" target="_blank"><code>{spData}</code></a> package:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> spData<span class="sc">::</span>world</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(countries)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 177
Columns: 11
$ iso_a2    &lt;chr&gt; "FJ", "TZ", "EH", "CA", "US", "KZ", "UZ", "PG", "ID", "AR", ‚Ä¶
$ name_long &lt;chr&gt; "Fiji", "Tanzania", "Western Sahara", "Canada", "United Stat‚Ä¶
$ continent &lt;chr&gt; "Oceania", "Africa", "Africa", "North America", "North Ameri‚Ä¶
$ region_un &lt;chr&gt; "Oceania", "Africa", "Africa", "Americas", "Americas", "Asia‚Ä¶
$ subregion &lt;chr&gt; "Melanesia", "Eastern Africa", "Northern Africa", "Northern ‚Ä¶
$ type      &lt;chr&gt; "Sovereign country", "Sovereign country", "Indeterminate", "‚Ä¶
$ area_km2  &lt;dbl&gt; 19289.97, 932745.79, 96270.60, 10036042.98, 9510743.74, 2729‚Ä¶
$ pop       &lt;dbl&gt; 885806, 52234869, NA, 35535348, 318622525, 17288285, 3075770‚Ä¶
$ lifeExp   &lt;dbl&gt; 69.96000, 64.16300, NA, 81.95305, 78.84146, 71.62000, 71.039‚Ä¶
$ gdpPercap &lt;dbl&gt; 8222.2538, 2402.0994, NA, 43079.1425, 51921.9846, 23587.3375‚Ä¶
$ geom      &lt;MULTIPOLYGON [¬∞]&gt; MULTIPOLYGON (((-180 -16.55..., MULTIPOLYGON ((‚Ä¶</code></pre>
</div>
</div>
<p>So this spatial data is just like a regular <code>data.frame</code>/<code>tibble</code>, but with an extra column with geometry data. Therefore, you can plot this data using <code>ggplot2</code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>countries <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="task_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can also include several layers in the same plot:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> countries) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">st_point_on_surface</span>(countries), <span class="at">color =</span> <span class="st">"darkred"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="task_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For flow mapping, you only need one point per country, so you only need a center (or more formally a ‚Äòcentroid‚Äô, but <code>st_point_on_surface()</code> function produces a special kind of centroid that is guaranteed to be placed on the polygon surface and never placed outside irregularly shaped polygon) of each country‚Äôs polygon. Here is how you can do it:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>countries_centroids <span class="ot">&lt;-</span> countries <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_centroid</span>() <span class="sc">|&gt;</span> <span class="co"># finds a center of each country'spolygon</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_coordinates</span>() <span class="sc">|&gt;</span>  <span class="co"># extracts numeric coorindates from the POINT geometry</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="co"># converts the matrix to a data.frame </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">"lon"</span>, <span class="st">"lat"</span>)) <span class="sc">|&gt;</span> <span class="co"># renames the columns</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(countries) <span class="sc">|&gt;</span> <span class="co"># adds back all the columns (except for geometry) form `countries`</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(iso_a2, lon, lat, name_long) <span class="co"># only selects a few columns that we really need</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(countries_centroids)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 177
Columns: 4
$ iso_a2    &lt;chr&gt; "FJ", "TZ", "EH", "CA", "US", "KZ", "UZ", "PG", "ID", "AR", ‚Ä¶
$ lon       &lt;dbl&gt; 178.56842, 34.74198, -12.18574, -96.39551, -103.57290, 67.23‚Ä¶
$ lat       &lt;dbl&gt; -17.3156217, -6.2505643, 24.2783849, 60.4767578, 44.7559814,‚Ä¶
$ name_long &lt;chr&gt; "Fiji", "Tanzania", "Western Sahara", "Canada", "United Stat‚Ä¶</code></pre>
</div>
</div>
<p>You may freely reuse this code above in your Quarto report.</p>
<p>The data format you get is ideal for both <a href="https://flowmapblue.github.io/flowmapblue.R/" target="_blank"><code>{flowmapblue}</code></a> and <a href="https://github.com/JohMast/flowmapper"><code>{flowmapper}</code></a> packages. You only need to tweak the column names of the <code>countries_centroids</code> <code>data.frame</code> before using it with either of these packages. You can see relevant package documentation for more details. Alternatively, you can follow tutorials for <a href="https://ropenspain.github.io/spanishoddata/articles/flowmaps-static.html#reshape-flows-for-visualization" target="_blank"><code>{flowmapper}</code></a> and <a href="https://ropenspain.github.io/spanishoddata/articles/flowmaps-interactive.html#prepare-data-for-visualization" target="_blank"><code>{flowmapblue}</code></a>.</p>
</section>
<section id="country-codes" class="level3">
<h3 class="anchored" data-anchor-id="country-codes">3.3. Country codes</h3>
<p>You will find that the country code data in the Scholarly Migration Database does not match with the country names in the <code>countries</code> <code>data.frame</code>. Scholarly migration database uses ISO 3166-1 alpha-3 codes, and <code>countrycode</code> uses the ISO 3166-1 alpha-2 codes. So you need to convert the country names in the <code>countries</code> <code>data.frame</code> to ISO 3166-1 alpha-3 codes.</p>
<p>You can do this conversion using the <code>countrycode</code> package like so:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># assuming your data.frame is called `scopus_country_flows`</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>scopus_country_flows <span class="ot">&lt;-</span> scopus_country_flows <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">iso2codefrom =</span> <span class="fu">countrycode</span>(iso3codefrom,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">origin =</span> <span class="st">"iso3c"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">destination =</span> <span class="st">"iso2c"</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">iso2codeto =</span> <span class="fu">countrycode</span>(iso3codeto,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">origin =</span> <span class="st">"iso3c"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">destination =</span> <span class="st">"iso2c"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="hints-on-plotting-the-flows" class="level3">
<h3 class="anchored" data-anchor-id="hints-on-plotting-the-flows">3.4. Hints on plotting the flows</h3>
<section id="flowmapper" class="level4">
<h4 class="anchored" data-anchor-id="flowmapper"><code>{flowmapper}</code></h4>
<p>To plot the flows statically with <code>{flowmapper}</code>, you only need a regular code chunk, same as you would have for a <code>ggplot2</code> plot.</p>
<p>Feel free to adapt <a href="https://ropenspain.github.io/spanishoddata/articles/flowmaps-static.html" target="_blank">this tutorial</a>, but use the Scholarly Migration Database data instead of the mobility data used there.</p>
</section>
<section id="flowmapblue" class="level4">
<h4 class="anchored" data-anchor-id="flowmapblue"><code>{flowmapblue}</code></h4>
<p>To create interactive flow maps with the <code>{flowmapblue}</code>, you will need a free MapBox account. Feel free to adapt <a href="https://ropenspain.github.io/spanishoddata/articles/flowmaps-interactive.html" target="_blank">this tutorial</a>, but use the Scholarly Migration Database data instead of the mobility data used there.</p>
<p>To include the interactive plot with <code>{flowmapblue}</code>, you may need a somewhat more sophisticated code chunk. See the instructions below.</p>
<p>If you created an interactive flowmap like so:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>flowmap <span class="ot">&lt;-</span> <span class="fu">flowmapblue</span>(<span class="at">locations =</span> locations, <span class="at">flows =</span> flows, <span class="at">mapboxAccessToken =</span> mapbox_access_token)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>But simply printing the <code>flowmap</code> object in a code block breaks your entire Quarto document, here is what you need to do.</p>
<p>Save the <code>flowmap</code> to an <code>html</code> file:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>htmlwidgets<span class="sc">::</span><span class="fu">saveWidget</span>(flowmap, <span class="st">"flowmap.html"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Then include the <code>html</code> file in your Quarto document like so:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>shiny<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">iframe</span>(<span class="at">src =</span> <span class="st">"flowmap_widget.html"</span>, <span class="at">width =</span> <span class="st">"100%"</span>, <span class="at">height =</span> <span class="st">"600px"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
</section>
<section id="create-your-final-document" class="level2">
<h2 class="anchored" data-anchor-id="create-your-final-document">4. Create your final document</h2>
<p>Once you have figured out which summary plots and which flow map you would like to include in your final document, create a copy of your draft document that you were working with and clean it up. Only keep the code that you absolutely need for the document to be rendered without errors. Name this copy <code>index.qmd</code>.</p>
<p>Adjust the code visibility in your final document to your liking, using the Quarto documentation on <a href="https://quarto.org/docs/output-formats/html-code.html" target="_blank">HTML blokcs</a> and <a href="https://quarto.org/docs/computations/execution-options.html" target="_blank">code execution</a>.</p>
<p>Create a file named <code>_quarto.yaml</code> in the root of the repository and add the following to it:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">output-dir</span><span class="kw">:</span><span class="at"> docs</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Make sure you respect the indentation (i.e.&nbsp;number of tabs/spaces before <code>output-dir</code>) of the YAML file.</p>
<p>Then render your final Quarto document into an <code>html</code> file, it should end up in the <code>docs</code> folder with the name <code>index.html</code>.</p>
</section>
<section id="save-changes-and-push-them-to-github" class="level2">
<h2 class="anchored" data-anchor-id="save-changes-and-push-them-to-github">5. Save changes and push them to GitHub</h2>
<p>You can edit and save the files in your repository as much as you want locally. However, to save a certain clean version of your code or document to the git repository and upload it to GitHub, you also need to <code>commit</code> these changes. <code>commit</code> command ‚Äúbakes‚Äù the changes you made to any files you edited permanently in the repository history. It is like a checkpoint for ‚Äúundo‚Äù and ‚Äúredo‚Äù. A brief overview of the <code>git</code> workflow is well summarized <a href="https://uidaholib.github.io/get-git/3workflow.html">here</a>, but will also be demoed and discussed in class.</p>
<section id="before-the-first-commit" class="level3">
<h3 class="anchored" data-anchor-id="before-the-first-commit">5.1. Before the first commit</h3>
<p>Before the first commit, you need to execute a few commands in terminal (you can do it either in your operating system‚Äôs terminal app or simply in <code>RStudio</code> or <code>Positron</code> built-in terminal).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="ide">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Positron</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">RStudio</a></li></ul>
<div class="tab-content" data-group="ide">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/new-terminal-positron.png" class="img-fluid figure-img"></p>
<figcaption>Opening Positron terminal</figcaption>
</figure>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/new-terminal-rstudio.png" class="img-fluid figure-img"></p>
<figcaption>Opening RStudio terminal</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.name <span class="st">'Your Name'</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.email <span class="st">'you54385-2@345234543example.com'</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/set-git-username-email.png" class="img-fluid figure-img"></p>
<figcaption>Setting the name and email in RStudio terminal</figcaption>
</figure>
</div>
<p>Beware which name and email you set there. The name and email are public in <code>git</code> to attribute contributions to specific individuals, to ensure transparency and accountability. The email does not have to be the same email that you used to sign up for GitHub. It can even be a non-existing email. However this email will be publicly available. It will not be visible on the GitHub website, but anyone who clonse a public repository will be able to see it with a <code>git log</code> command:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/git-username-email-exposed.png" class="img-fluid figure-img"></p>
<figcaption>Beware that your name and email are public (viewed in terminal)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/git-username-email-exposed-rstudio.png" class="img-fluid figure-img"></p>
<figcaption>Beware that your name and email are public (viewed in RStudio git history explorer)</figcaption>
</figure>
</div>
</section>
<section id="first-commit" class="level3">
<h3 class="anchored" data-anchor-id="first-commit">5.2. First commit</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="ide">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">Positron</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">RStudio</a></li></ul>
<div class="tab-content" data-group="ide">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p>To save your changes to the local <code>git</code> repository that you have open in <code>Positron</code>, find the <code>Source Control</code> panel on the left.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/positron-commit-001.png" class="img-fluid figure-img"></p>
<figcaption>Git panel in RStudio</figcaption>
</figure>
</div>
<p>You can select files that had changes or that were newly created or deleted. You can preview changes and select files that you want to save (commit) and later upload to GitHub (via <code>Push</code>). You can select one or more files to be <code>staged</code>, and only these files will be committed when you click the <code>Commit</code> button. Also, add a short comment to your commit dsecribing the changes, it will appear in the repository history.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/positron-commit-002.png" class="img-fluid figure-img"></p>
<figcaption>Review changes window in RStudio and commit</figcaption>
</figure>
</div>
<p>After clicking the ‚ÄúCommit‚Äù button, the staged files will disappear from the list of changed files. You will then be able to <code>Push</code> the changes to GitHub.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/positron-commit-003.png" class="img-fluid figure-img"></p>
<figcaption>Changes commited, ready to Push</figcaption>
</figure>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>To save your changes to the local <code>git</code> repository that you have open in <code>RStudio</code>, find the <code>Git</code> panel in the top right and click the <code>Diff</code> button.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/rstudio-commit-001.png" class="img-fluid figure-img"></p>
<figcaption>Git panel in RStudio</figcaption>
</figure>
</div>
<p>This will open a new window where you can preview changes in the files that you made since last commit (which in this case was made by the author of the original repository, since you have just forked it).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/rstudio-commit-002.png" class="img-fluid figure-img"></p>
<figcaption>Review changes window in RStudio and commit</figcaption>
</figure>
</div>
<p>Here you can select files that had changes or that were newly created or deleted. You can preview changes and select files that you want to save (commit) and later upload to GitHub (via <code>Push</code>). You can select one or more files to be <code>staged</code>, and only these files will be committed when you click the <code>Commit</code> button. Also, add a comment to your commit dsecribing the changes.</p>
<p>After clicking the ‚ÄúCommit‚Äù button, you will see this screen.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/rstudio-commit-003.png" class="img-fluid figure-img"></p>
<figcaption>Changes commited</figcaption>
</figure>
</div>
<p>Close this window and upload your commited changes to GitHub by clicking the ‚ÄúPush‚Äù button.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/rstudio-commit-004.png" class="img-fluid figure-img"></p>
<figcaption>Commit window in RStudio</figcaption>
</figure>
</div>
<p>You will see the upload screen:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/rstudio-commit-005.png" class="img-fluid figure-img"></p>
<figcaption>Git push window in RStudio</figcaption>
</figure>
</div>
<p>You can now close this window and the review changes window, and go to your GitHub repository to see the changes.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Can you undo a commit? Yes, you can. But be careful when doing this, as it may lead to loss of work if you are not careful. Try asking your favourite large language model how do do this safely and what could be the implications.</p>
<p>Also, if you are collaborating with someone on a GitHub repository, learn to use branches and pull requests to avoid overwriting each other‚Äôs work or getting erroes when trying to push changes.</p>
</div>
</div>
</section>
<section id="publish-the-html-file" class="level3">
<h3 class="anchored" data-anchor-id="publish-the-html-file">5.3. Publish the html file</h3>
<p>Once you have an <code>index.html</code> file in the <code>docs</code> folder, you can go to the repository settings and publish it to the web.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/gh-pages-setup.png" class="img-fluid figure-img"></p>
<figcaption>Publish via GitHub Pages</figcaption>
</figure>
</div>
<p>You will need to wait a few minutes. You only have one page, so it should not take too long. Reload the settings page and you should see your web link:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/gh-pages-setup-done.png" class="img-fluid figure-img"></p>
<figcaption>Website published</figcaption>
</figure>
</div>
<p>You can also go to your repository homepage and add this link in the right side of the repository page:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="media/images/gh-pages-link.png" class="img-fluid figure-img"></p>
<figcaption>Repository view settings</figcaption>
</figure>
</div>
</section>
</section>
<section id="submit" class="level2">
<h2 class="anchored" data-anchor-id="submit">6. Submit</h2>
<p>Post the link to your repository and/or website in <code>Issues</code> of this repository: <a href="https://github.com/e-kotov/2025-EDSD-open-science-quarto-github/issues" target="_blank">https://github.com/e-kotov/2025-EDSD-open-science-quarto-github/issues</a></p>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{kotov2025,
  author = {Kotov, Egor},
  title = {Open {Science} and {Reproducibility} with {Quarto,} {GitHub,}
    and {R} 2025},
  date = {2025-10-21},
  url = {https://www.ekotov.pro/2025-EDSD-open-science-quarto-github/task.html},
  doi = {10.5281/zenodo.17401408},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-kotov2025" class="csl-entry quarto-appendix-citeas" role="listitem">
Kotov, Egor. 2025. <span>‚ÄúOpen Science and Reproducibility with Quarto,
GitHub, and R 2025.‚Äù</span> October 21, 2025. <a href="https://doi.org/10.5281/zenodo.17401408">https://doi.org/10.5281/zenodo.17401408</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("ekotov\.pro");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./setup.html" class="pagination-link" aria-label="üõ†Ô∏è Software Setup">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">üõ†Ô∏è Software Setup</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Author: Egor Kotov</p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>CC-BY-SA 4.0</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.ekotov.pro/2025-EDSD-open-science-quarto-github/">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>